<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Platform Host</title>

    <meta
      http-equiv="Content-Security-Policy"
      content="
        default-src 'self';
        style-src 'self' 'unsafe-inline';
        script-src 'self';
        img-src 'self' data:;
        connect-src 'self';
        frame-src https://onboardings.example.com https://support.example.com;
        base-uri 'none';
        form-action 'none';
      "
    />

    <link rel="stylesheet" href="./styles.css" />
  </head>

  <body>
    <div class="app">
      <header class="toolbar">
        <div class="brand">Platform</div>
        <div class="title" id="pageTitle">Select a module</div>
      </header>

      <main class="main">
        <nav class="sidenav">
          <button class="nav-btn" id="btnOnboardings">Onboardings</button>
          <button class="nav-btn" id="btnSupport">Support</button>
        </nav>

        <section class="content">
          <div class="frame-wrap">
            <div class="loading" id="loading">Loading module…</div>

            <iframe
              id="mfFrame"
              title="Microfrontend"
              referrerpolicy="no-referrer"
              loading="eager"
              sandbox="allow-scripts allow-forms allow-downloads allow-popups allow-popups-to-escape-sandbox"
            ></iframe>
          </div>
        </section>
      </main>

      <footer class="footer">
        <div class="status">
          <span class="status-dot" id="statusDot"></span>
          <span id="statusText">No module loaded</span>
        </div>
        <div>© HSBC 2026</div>
      </footer>
    </div>

    <script src="./app.js"></script>
  </body>
</html>
